# UART Peripheral Testbench Notes

Este diretorio possui um testbench de integracao SoC+UART, nao apenas um teste unitario da UART.

## Arquivo principal

- `TB_SOC_UART_FULL.v`

Observacao: em Linux o nome do arquivo e case-sensitive. O nome correto e `TB_SOC_UART_FULL.v` (nao `tb_soc_uart_full.v`).

## O que o testbench cobre

- Integracao do processador RISC-V com UART via barramento AXI
- Modelo de RAM para fetch de instrucoes
- Geracao/carregamento de firmware em formato HEX
- Monitor serial virtual no TX da UART

## Principais funcionalidades

1. **Gerador de firmware dinamico (assembly injection)**
   - Converte strings (ex.: "Ola Mundo") em palavras de maquina RISC-V
   - Inicializa a RAM da simulacao
   - Gera `firmware.hex` para depuracao

2. **Carregador de HEX externo**
   - Permite usar firmware compilado fora do testbench

3. **RAM AXI simulada**
   - Responde a acessos de leitura de instrucao

4. **Monitor serial**
   - Reconstroi bytes enviados no TX
   - Exibe no console durante a simulacao

## Execucao rapida (Icarus Verilog)

Exemplo minimo:

```bash
iverilog -g2012 -o tb_uart.vvp TB_SOC_UART_FULL.v
vvp tb_uart.vvp
```

Se houver dependencias externas (por exemplo, modulos importados do projeto base), inclua os arquivos e `-I` necessarios no comando de compilacao.

## Referencia

Base original mencionada pelo projeto:

- `https://github.com/ultraembedded/riscv_soc/tree/master`
